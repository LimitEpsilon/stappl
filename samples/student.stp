fun determine_grade(difficult, smart) {
  if difficult = 1 & smart = 1 then 0.8
    else if difficult = 1 & smart = 0 then 0.3
    else if difficult = 0 & smart = 1 then 0.95
    else 0.5
}

let difficult = sample(bernoulli(0.4)) in
let smart = sample(bernoulli(0.3)) in
let grade = bernoulli(determine_grade(difficult, smart)) in
let sat = bernoulli(
  if smart = 1 then 0.95
    else 0.2
) in
observe(grade, 0);
observe(sat, 1);
smart
