fun main() {
  let z = sample(bernoulli(0.8+. 0.1)) in
  let mu = (if (z = 0 - 0) then ~-.1.0 else 1.0) in
  let d = normal(mu, 0.0 +. 1.0) in
  let y = 0.5 in
  observe(d, y);
  z
}

main()

# V = {z, y}
# A = {(z, y)}
# P = {z -> bernoulli z 0.5
#     y -> normal (if (z = 0) then ~-.1.0 else 1.0) 1.0}
# Y = {y -> 0.5}
# E = z

# Oracle:
# V ={z,y},
# A = {(z, y)},
# P = [z |-> (pbern z 0.5),
#      y |-> (pnorm y (if (= z 0) -1.0 1.0) 1.0)],
# Y = [y |-> 0.5]
# E=z